image: stablebaselines/stable-baselines3-cpu:0.6.0a5

type-check:
  script:
  - make type

pytest:
  script:
  # TODO: remove when opencv properly installed in the docker image
  # see https://github.com/NVIDIA/nvidia-docker/issues/864
  - pip install opencv-python-headless
  # MKL_THREADING_LAYER=GNU to avoid MKL_THREADING_LAYER=INTEL incompatibility error
  - MKL_THREADING_LAYER=GNU make pytest

doc-build:
  script:
  - make doc
